package Ejercicio4;

import java.util.ArrayList;
import java.util.Random;
import java.util.concurrent.CountDownLatch;
import java.util.concurrent.Semaphore;

public class Carril extends Thread{

	private Competidor Animal;
	private int casillero=1;
	private CountDownLatch Inicio;
	private CountDownLatch Final;
	private java.util.List listaCompetidor;
	private Semaphore Mutex;
	public long horaLlegada;
	
	
	public Carril(Competidor Animal,CountDownLatch Inicio,CountDownLatch Final,java.util.List listaCompetidor) {
		this.Animal=Animal;
		this.Final=Final;
		this.Inicio=Inicio;
		this.listaCompetidor=listaCompetidor;
		
	}
	@Override
	public void run() {
		
		Inicio.countDown();
		
		Suceso suceso;
		
		int casillero=0;
		
		while(casillero<=30) {
			
			suceso=Animal.suceso(NumeroAleatorio());
			casillero+=suceso.avance;
			
			if(casillero < 1) {
				casillero = 1;
			}
			
			System.out.println("La "+Animal.nombre()+" Realizo: "+suceso+" y avanzo "+suceso.avance+" pasos.");
			
			try {
				sleep(1000);
			} catch (InterruptedException e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			}
		}
		
		this.horaLlegada=System.currentTimeMillis();
		
		
		
		Final.countDown();
	}
	public int NumeroAleatorio () {
		Random NumeroRandom = new Random();
		return NumeroRandom.nextInt(10);
	}
	
	
}
